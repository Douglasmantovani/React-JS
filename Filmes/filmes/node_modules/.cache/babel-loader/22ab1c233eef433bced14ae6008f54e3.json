{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\senai\\\\Desktop\\\\React-JS\\\\filmes\\\\src\\\\pages\\\\home\\\\login\\\\index.tsx\";\nimport React, { useState } from 'react';\nimport Header from '../../../components/header/index';\nimport Footer from '../../../components/footer/index';\nimport Input from '../../../components/input';\nimport Button from '../../../components/button';\nimport '../login/style.css';\nimport { useHistory } from 'react-router-dom';\n\nfunction Login() {\n  let history = useHistory(); //UseState é uma forma de definir e atualizar o estado “interno ” de um componente\n\n  const [email, setEmail] = useState('');\n  const [senha, setSenha] = useState(''); //criando função de acesso aos dados da API para realização do login\n\n  const login = () => {\n    const login = {\n      email: email,\n      senha: senha\n    }; //utilizando fetch para acesso à API, determinando o método, body e headers\n\n    fetch('http://localhost:5000/api/conta/login', {\n      method: 'POST',\n      body: JSON.stringify(login),\n      headers: {\n        'content-type': 'application/json'\n      }\n    }) //promises\n    .then(response => response.json()).then(dados => {\n      //Verificação se \n      if (dados.token !== undefined) {\n        console.log(dados.tatus);\n        localStorage.setItem('token-filmes', dados.token);\n        history.push('/');\n      } else {\n        alert('Senha ou Email incorretos! Tente novamente! :(');\n      }\n    }).catch(err => console.error(err));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    description: \"Faça o login e acesse a Coletânea\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"InputMain\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: event => {\n      event.preventDefault();\n      login();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"email\",\n    type: \"text\",\n    label: \"Email\",\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    name: \"senha\",\n    type: \"password\",\n    label: \"Senha\",\n    onChange: e => setSenha(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bott\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    value: \"Enviar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/senai/Desktop/React-JS/filmes/src/pages/home/login/index.tsx"],"names":["React","useState","Header","Footer","Input","Button","useHistory","Login","history","email","setEmail","senha","setSenha","login","fetch","method","body","JSON","stringify","headers","then","response","json","dados","token","undefined","console","log","tatus","localStorage","setItem","push","alert","catch","err","error","event","preventDefault","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport Header from '../../../components/header/index';\r\nimport Footer from '../../../components/footer/index';\r\nimport Input from '../../../components/input';\r\nimport Button from '../../../components/button';\r\nimport '../login/style.css';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n\r\nfunction Login() {\r\n\r\n  let history = useHistory();\r\n\r\n  //UseState é uma forma de definir e atualizar o estado “interno ” de um componente\r\n  const [email, setEmail] = useState('');\r\n  const [senha, setSenha] = useState('')\r\n\r\n  //criando função de acesso aos dados da API para realização do login\r\n  const login = () => {\r\n    const login = {\r\n      email: email,\r\n      senha: senha\r\n    }\r\n    //utilizando fetch para acesso à API, determinando o método, body e headers\r\n    fetch('http://localhost:5000/api/conta/login', {\r\n      method: 'POST',\r\n      body: JSON.stringify(login),\r\n      headers: {\r\n        'content-type': 'application/json'\r\n      }\r\n    })\r\n      //promises\r\n      .then(response => response.json())\r\n      .then(dados => {\r\n        //Verificação se \r\n        if (dados.token !== undefined) {\r\n          console.log(dados.tatus)\r\n          localStorage.setItem('token-filmes', dados.token)\r\n          history.push('/');\r\n        } else {\r\n          alert('Senha ou Email incorretos! Tente novamente! :(')\r\n        }\r\n      })\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Header description={\"Faça o login e acesse a Coletânea\"} />\r\n      <h1>Login</h1>\r\n      <div className=\"InputMain\">\r\n        <form onSubmit={event => { event.preventDefault(); login(); }}>\r\n          <Input name=\"email\" type=\"text\" label=\"Email\" onChange={e => setEmail(e.target.value)} />\r\n          <br />\r\n          <Input name=\"senha\" type=\"password\" label=\"Senha\" onChange={e => setSenha(e.target.value)} />\r\n          <br />\r\n          <div className=\"bott\">\r\n            <Button value=\"Enviar\"></Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\nexport default Login;\r\n\r\n"]},"metadata":{},"sourceType":"module"}