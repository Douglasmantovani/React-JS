{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\senai\\\\Desktop\\\\React-JS\\\\filmes\\\\src\\\\components\\\\header\\\\index.tsx\";\nimport React, { useState } from 'react';\nimport '../header/style.css';\nimport Logo from '../../assets/images/logo.png';\nimport { Link, useHistory } from 'react-router-dom';\n\nconst Header = props => {\n  const [Nome, setNome] = useState('');\n  const [Email, setEmail] = useState('');\n  const [Cargo, setCargo] = useState('');\n  const [Senha, setSenha] = useState('');\n\n  const refresh = () => {\n    fetch('http://localhost:5000/api/Usuarios/BuscarPorId', {\n      method: 'GET',\n      headers: {\n        authorization: 'Bearer ' + localStorage.getItem('token-filmes')\n      }\n    }).then(response => response.json()).then(dados => {\n      setNome(dados.nome);\n      setEmail(dados.email);\n      setCargo(dados.permissao);\n      setSenha(dados.senha);\n    }).catch(err => console.error(err));\n  };\n\n  let history = useHistory(); //criando a função logout, removendo o token do localStorage e chamando a página do usuário deslogado\n\n  const logout = () => {\n    localStorage.removeItem('token-filmes');\n    history.push('/');\n  }; // criando a função menu() com a estrutura condicional que retornará o menu para usuários logados e deslogado\n\n\n  const menu = () => {\n    // a variável token recebe o conteúdo do local storage\n    const token = localStorage.getItem('token-filmes'); //se o valor de token estiver indefinido ou nulo, chama o menu deslogado, se não chama o menu para quando o usuário estiver logado\n\n    if (Cargo == null) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Nav\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/\",\n        className: \"link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 16\n        }\n      }, \"Home\")), /*#__PURE__*/React.createElement(\"a\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/login\",\n        className: \"link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 16\n        }\n      }, \"Login\")), /*#__PURE__*/React.createElement(\"a\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/cadastro\",\n        className: \"link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 16\n        }\n      }, \"Cadastro\")));\n    } else if (Cargo) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Nav\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/\",\n        className: \"link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 16\n        }\n      }, \"Home\")), /*#__PURE__*/React.createElement(\"a\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/perfil\",\n        className: \"link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 16\n        }\n      }, \"Perfil\")), /*#__PURE__*/React.createElement(\"a\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/genero\",\n        className: \"link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 16\n        }\n      }, \"Genero\")), /*#__PURE__*/React.createElement(\"a\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/filme\",\n        className: \"link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 16\n        }\n      }, \"Filmes\")), /*#__PURE__*/React.createElement(\"a\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"\",\n        onClick: event => {\n          event.preventDefault();\n          logout();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 14\n        }\n      }, \"Logout\")), \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 32\n        }\n      }));\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"LogoNav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: {\n      pathname: \"/\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"img\", {\n    src: Logo,\n    alt: \"Logo do site\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 47\n    }\n  })), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, props.description), props.children, props.extra && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 33\n    }\n  }, props.extra)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, menu()));\n};\n\nexport default Header;","map":{"version":3,"sources":["C:/Users/senai/Desktop/React-JS/filmes/src/components/header/index.tsx"],"names":["React","useState","Logo","Link","useHistory","Header","props","Nome","setNome","Email","setEmail","Cargo","setCargo","Senha","setSenha","refresh","fetch","method","headers","authorization","localStorage","getItem","then","response","json","dados","nome","email","permissao","senha","catch","err","console","error","history","logout","removeItem","push","menu","token","event","preventDefault","pathname","description","children","extra"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport '../header/style.css';\r\nimport Logo from '../../assets/images/logo.png';\r\nimport { Link,useHistory } from 'react-router-dom';\r\n\r\ninterface Props {\r\n    description: string\r\n    extra?:string;\r\n}\r\n\r\nconst Header: React.FC<Props> =(props)=>{\r\n\r\n  const [Nome, setNome] = useState('');\r\n    const [Email, setEmail] = useState('');\r\n    const [Cargo, setCargo] = useState('');\r\n    const [Senha, setSenha] = useState('');\r\n\r\n    const refresh = () => {\r\n      fetch('http://localhost:5000/api/Usuarios/BuscarPorId', {\r\n          method: 'GET',\r\n          headers: {\r\n              authorization: 'Bearer ' + localStorage.getItem('token-filmes')\r\n          }\r\n      })\r\n          .then(response => response.json())\r\n          .then(dados => {\r\n              setNome(dados.nome);\r\n              setEmail(dados.email);\r\n              setCargo(dados.permissao);\r\n              setSenha(dados.senha);\r\n          })\r\n          .catch(err => console.error(err));\r\n  }\r\n  \r\n    let history = useHistory();\r\n  \r\n    //criando a função logout, removendo o token do localStorage e chamando a página do usuário deslogado\r\n    const logout = () => {\r\n      localStorage.removeItem('token-filmes');\r\n      history.push('/');\r\n    }\r\n    // criando a função menu() com a estrutura condicional que retornará o menu para usuários logados e deslogado\r\n    const menu = () => {\r\n      // a variável token recebe o conteúdo do local storage\r\n      const token = localStorage.getItem('token-filmes');\r\n   \r\n      //se o valor de token estiver indefinido ou nulo, chama o menu deslogado, se não chama o menu para quando o usuário estiver logado\r\n      if (Cargo==null) {\r\n        return (\r\n          <div className=\"Nav\">\r\n            <a><Link to=\"/\" className=\"link\">Home</Link></a>\r\n            <a><Link to=\"/login\" className=\"link\">Login</Link></a>\r\n            <a><Link to=\"/cadastro\" className=\"link\">Cadastro</Link></a>\r\n          </div>\r\n        )\r\n      } else if(Cargo) {\r\n        return (\r\n          <div className=\"Nav\">\r\n            <a><Link to=\"/\" className=\"link\">Home</Link></a>\r\n            <a><Link to=\"/perfil\" className=\"link\">Perfil</Link></a>\r\n            <a><Link to=\"/genero\" className=\"link\">Genero</Link></a>\r\n            <a><Link to=\"/filme\" className=\"link\">Filmes</Link></a>\r\n          <a><Link to='' onClick={(event) => {\r\n            event.preventDefault();\r\n            logout();\r\n          }}>Logout</Link></a> <br/>\r\n        </div>\r\n        \r\n      )\r\n    }\r\n \r\n  }  \r\n\r\n    return(\r\n        <div className=\"LogoNav\">\r\n            <div className=\"Logo\">\r\n                <Link to={{ pathname: \"/\" }}> <img src={Logo}  alt=\"Logo do site\"/></Link>\r\n                <h3>{props.description}</h3>\r\n                {props.children}\r\n                {props.extra && <p>{props.extra}</p>}\r\n            </div>\r\n            <div className=\"Nav\">\r\n                {menu()}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}