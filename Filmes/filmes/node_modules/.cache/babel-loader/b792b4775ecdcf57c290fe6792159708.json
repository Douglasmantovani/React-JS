{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\senai\\\\Desktop\\\\React-JS\\\\filmes\\\\src\\\\pages\\\\home\\\\perfil\\\\index.tsx\";\nimport React, { useState } from 'react';\nimport Button from '../../../components/button';\nimport Footer from '../../../components/footer';\nimport Header from '../../../components/header/index';\nimport Input from '../../../components/input';\nimport '../perfil/style.css';\n\nfunction Perfil() {\n  const [Nome, setNome] = useState('');\n  const [Email, setEmail] = useState('');\n  const [Cargo, setCargo] = useState('');\n  const [Senha, setSenha] = useState('');\n\n  const refresh = () => {\n    fetch('http://localhost:5000/api/Usuarios/BuscarPorId', {\n      method: 'GET',\n      headers: {\n        authorization: 'Bearer ' + localStorage.getItem('token-filmes')\n      }\n    }).then(response => response.json()).then(dados => {\n      setNome(dados.nome);\n      setEmail(dados.email);\n      setCargo(dados.permissao);\n      setSenha(dados.senha);\n    }).catch(err => console.error(err));\n  };\n\n  const Atualizar = () => {\n    const form = {\n      nome: Nome,\n      email: Email,\n      permissao: Cargo,\n      senha: Senha\n    };\n    var a = form;\n    fetch('http://localhost:5000/api/Usuarios/Atualizar', {\n      method: 'PUT',\n      body: JSON.stringify(a),\n      headers: {\n        'content-type': 'application/json',\n        authorization: 'Bearer ' + localStorage.getItem('token-filmes')\n      }\n    }).then(response => response.json()).then(dados => {\n      alert(\"Usuario atualizado\");\n      refresh();\n    }).catch(err => console.error(err));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    description: \"Faça o login e acesse a Coletânea\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, \"Perfil \"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: event => {\n      event.preventDefault();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"nome\",\n    type: \"text\",\n    label: \"Nome\",\n    value: Nome,\n    onChange: e => setNome(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    name: \"email\",\n    type: \"text\",\n    label: \"Email\",\n    value: Email,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    id: \"permissao\",\n    value: Cargo,\n    onChange: e => setCargo(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    disabled: true,\n    selected: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  }, \"Selecione\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Admnistrador\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 25\n    }\n  }, \"Administrador\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Comum\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }\n  }, \"Comum\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    name: \"senha\",\n    type: \"password\",\n    label: \"Senha\",\n    value: Senha,\n    onChange: e => setSenha(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    value: \"Editar\",\n    Onclick: refresh,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    value: \"Salvar\",\n    Onclick: Atualizar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default Perfil;","map":{"version":3,"sources":["C:/Users/senai/Desktop/React-JS/filmes/src/pages/home/perfil/index.tsx"],"names":["React","useState","Button","Footer","Header","Input","Perfil","Nome","setNome","Email","setEmail","Cargo","setCargo","Senha","setSenha","refresh","fetch","method","headers","authorization","localStorage","getItem","then","response","json","dados","nome","email","permissao","senha","catch","err","console","error","Atualizar","form","a","body","JSON","stringify","alert","event","preventDefault","e","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Button from '../../../components/button';\r\nimport Footer from '../../../components/footer';\r\nimport Header from '../../../components/header/index';\r\nimport Input from '../../../components/input';\r\nimport '../perfil/style.css';\r\n\r\nfunction Perfil() {\r\n    const [Nome, setNome] = useState('');\r\n    const [Email, setEmail] = useState('');\r\n    const [Cargo, setCargo] = useState('');\r\n    const [Senha, setSenha] = useState('');\r\n\r\n    const refresh = () => {\r\n        fetch('http://localhost:5000/api/Usuarios/BuscarPorId', {\r\n            method: 'GET',\r\n            headers: {\r\n                authorization: 'Bearer ' + localStorage.getItem('token-filmes')\r\n            }\r\n        })\r\n            .then(response => response.json())\r\n            .then(dados => {\r\n                setNome(dados.nome);\r\n                setEmail(dados.email);\r\n                setCargo(dados.permissao);\r\n                setSenha(dados.senha);\r\n            })\r\n            .catch(err => console.error(err));\r\n    }\r\n\r\n    const Atualizar = () => {\r\n        const form = {\r\n            nome: Nome,\r\n            email: Email,\r\n            permissao: Cargo,\r\n            senha: Senha\r\n        };\r\n\r\n        var a=form;\r\n\r\n        fetch('http://localhost:5000/api/Usuarios/Atualizar', {\r\n            method: 'PUT',\r\n            body: JSON.stringify(a),\r\n            headers: {\r\n                'content-type': 'application/json',\r\n                authorization: 'Bearer ' + localStorage.getItem('token-filmes')\r\n            }\r\n        })\r\n            .then(response => response.json())\r\n            .then(dados => {\r\n                (\r\n                alert(\"Usuario atualizado\"))\r\n                refresh();\r\n            })\r\n            .catch(err => console.error(err));\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Header description={\"Faça o login e acesse a Coletânea\"} />\r\n            <div className=\"main\">\r\n                <h1>Perfil </h1>\r\n                <form onSubmit={event => {\r\n                    event.preventDefault();\r\n                }} >\r\n                    <Input name=\"nome\" type=\"text\" label=\"Nome\" value={Nome} onChange={e => setNome(e.target.value)} />\r\n                    <br />\r\n                    <Input name=\"email\" type=\"text\" label=\"Email\" value={Email} onChange={e => setEmail(e.target.value)} />\r\n                    <br />\r\n                    <select id=\"permissao\" value={Cargo} onChange={e => setCargo(e.target.value)}>\r\n                        <option value=\"\" disabled selected>Selecione</option>\r\n                        <option value=\"Admnistrador\">Administrador</option>\r\n                        <option value=\"Comum\">Comum</option>\r\n                    </select>\r\n                    <br />\r\n                    <Input name=\"senha\" type=\"password\" label=\"Senha\" value={Senha} onChange={e => setSenha(e.target.value)} />\r\n                    <br />\r\n                    <div className=\"bts\">\r\n                        <Button value=\"Editar\" Onclick={refresh} />\r\n                        <br />\r\n                        <Button value=\"Salvar\" Onclick={Atualizar} />\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            <Footer />\r\n        </div>\r\n    );\r\n}\r\nexport default Perfil;"]},"metadata":{},"sourceType":"module"}