{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\senai\\\\Desktop\\\\React-JS\\\\filmes\\\\src\\\\components\\\\header\\\\index.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport '../header/style.css';\nimport Logo from '../../assets/images/logo.png';\nimport { Link, useHistory } from 'react-router-dom';\n\nconst Header = props => {\n  const [Cargo, setCargo] = useState('');\n\n  const refresh = () => {\n    fetch('http://localhost:5000/api/Usuarios/BuscarPorId', {\n      method: 'GET',\n      headers: {\n        authorization: 'Bearer ' + localStorage.getItem('token-filmes')\n      }\n    }).then(response => response.json()).then(dados => {\n      setCargo(dados.permissao);\n    }).catch(err => console.error(err));\n  };\n\n  useEffect(() => {\n    refresh();\n  });\n  let history = useHistory(); //criando a função logout, removendo o token do localStorage e chamando a página do usuário deslogado\n\n  const logout = () => {\n    localStorage.removeItem('token-filmes');\n    history.push('/');\n  }; // criando a função menu() com a estrutura condicional que retornará o menu para usuários logados e deslogado\n\n\n  const menu = () => {\n    // a variável token recebe o conteúdo do local storage\n    const token = localStorage.getItem('token-filmes'); //se o valor de token estiver indefinido ou nulo, chama o menu deslogado, se não chama o menu para quando o usuário estiver logado\n\n    if (token === undefined || token === null) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Nav\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/\",\n        className: \"link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 14\n        }\n      }, \"Home\")), /*#__PURE__*/React.createElement(\"a\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/login\",\n        className: \"link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 14\n        }\n      }, \"Login\")), /*#__PURE__*/React.createElement(\"a\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/cadastro\",\n        className: \"link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 14\n        }\n      }, \"Cadastro\")));\n    } else if (Cargo == 'Administrador') {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Nav\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/\",\n        className: \"link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 14\n        }\n      }, \"Home\")), /*#__PURE__*/React.createElement(\"a\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/perfil\",\n        className: \"link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 14\n        }\n      }, \"Perfil\")), /*#__PURE__*/React.createElement(\"a\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/genero\",\n        className: \"link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 14\n        }\n      }, \"Genero\")), /*#__PURE__*/React.createElement(\"a\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/filme\",\n        className: \"link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 14\n        }\n      }, \"Filmes\")), /*#__PURE__*/React.createElement(\"a\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"\",\n        onClick: event => {\n          event.preventDefault();\n          logout();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 14\n        }\n      }, \"Logout\")), \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 32\n        }\n      }));\n    } else if (Cargo == 'Comum') {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Nav\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/\",\n        className: \"link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 14\n        }\n      }, \"Home\")), /*#__PURE__*/React.createElement(\"a\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/perfil\",\n        className: \"link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 14\n        }\n      }, \"Perfil\")), /*#__PURE__*/React.createElement(\"a\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/filmecomum\",\n        className: \"link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 14\n        }\n      }, \"Filmes\")), /*#__PURE__*/React.createElement(\"a\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"\",\n        onClick: event => {\n          event.preventDefault();\n          logout();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 14\n        }\n      }, \"Logout\")), \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 32\n        }\n      }));\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"LogoNav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: {\n      pathname: \"/\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"img\", {\n    src: Logo,\n    alt: \"Logo do site\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 39\n    }\n  })), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, props.description), props.children, props.extra && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }, props.extra)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, menu()));\n};\n\nexport default Header;","map":{"version":3,"sources":["C:/Users/senai/Desktop/React-JS/filmes/src/components/header/index.tsx"],"names":["React","useState","useEffect","Logo","Link","useHistory","Header","props","Cargo","setCargo","refresh","fetch","method","headers","authorization","localStorage","getItem","then","response","json","dados","permissao","catch","err","console","error","history","logout","removeItem","push","menu","token","undefined","event","preventDefault","pathname","description","children","extra"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport '../header/style.css';\r\nimport Logo from '../../assets/images/logo.png';\r\nimport { Link, useHistory } from 'react-router-dom';\r\n\r\ninterface Props {\r\n  description: string\r\n  extra?: string;\r\n}\r\n\r\nconst Header: React.FC<Props> = (props) => {\r\n  const [Cargo, setCargo] = useState('');\r\n\r\n  const refresh = () => {\r\n    fetch('http://localhost:5000/api/Usuarios/BuscarPorId', {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: 'Bearer ' + localStorage.getItem('token-filmes')\r\n      }\r\n    })\r\n      .then(response => response.json())\r\n      .then(dados => {\r\n        setCargo(dados.permissao);\r\n      })\r\n      .catch(err => console.error(err));\r\n  }\r\n\r\n  useEffect(() => {\r\n    refresh();\r\n  });\r\n  let history = useHistory();\r\n\r\n  //criando a função logout, removendo o token do localStorage e chamando a página do usuário deslogado\r\n  const logout = () => {\r\n    localStorage.removeItem('token-filmes');\r\n    history.push('/');\r\n  }\r\n  // criando a função menu() com a estrutura condicional que retornará o menu para usuários logados e deslogado\r\n  const menu = () => {\r\n    // a variável token recebe o conteúdo do local storage\r\n    const token = localStorage.getItem('token-filmes');\r\n\r\n    //se o valor de token estiver indefinido ou nulo, chama o menu deslogado, se não chama o menu para quando o usuário estiver logado\r\n    if (token === undefined || token === null) {\r\n      return (\r\n        <div className=\"Nav\">\r\n          <a><Link to=\"/\" className=\"link\">Home</Link></a>\r\n          <a><Link to=\"/login\" className=\"link\">Login</Link></a>\r\n          <a><Link to=\"/cadastro\" className=\"link\">Cadastro</Link></a>\r\n        </div>\r\n      )\r\n    } else if (Cargo == 'Administrador') {\r\n      return (\r\n        <div className=\"Nav\">\r\n          <a><Link to=\"/\" className=\"link\">Home</Link></a>\r\n          <a><Link to=\"/perfil\" className=\"link\">Perfil</Link></a>\r\n          <a><Link to=\"/genero\" className=\"link\">Genero</Link></a>\r\n          <a><Link to=\"/filme\" className=\"link\">Filmes</Link></a>\r\n          <a><Link to='' onClick={(event) => {\r\n            event.preventDefault();\r\n            logout();\r\n          }}>Logout</Link></a> <br />\r\n        </div>\r\n      )\r\n    }\r\n    else if (Cargo == 'Comum') {\r\n      return (\r\n        <div className=\"Nav\">\r\n          <a><Link to=\"/\" className=\"link\">Home</Link></a>\r\n          <a><Link to=\"/perfil\" className=\"link\">Perfil</Link></a>\r\n          <a><Link to=\"/filmecomum\" className=\"link\">Filmes</Link></a>\r\n          <a><Link to='' onClick={(event) => {\r\n            event.preventDefault();\r\n            logout();\r\n          }}>Logout</Link></a> <br />\r\n        </div>\r\n\r\n      )\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <div className=\"LogoNav\">\r\n      <div className=\"Logo\">\r\n        <Link to={{ pathname: \"/\" }}> <img src={Logo} alt=\"Logo do site\" /></Link>\r\n        <h3>{props.description}</h3>\r\n        {props.children}\r\n        {props.extra && <p>{props.extra}</p>}\r\n      </div>\r\n      <div className=\"Nav\">\r\n        {menu()}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}