{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\senai\\\\Desktop\\\\React-JS\\\\filmes\\\\src\\\\pages\\\\home\\\\login\\\\index.tsx\";\nimport React, { useState } from 'react';\nimport Header from '../../../components/header/index';\nimport Footer from '../../../components/footer/index';\nimport Input from '../../../components/input';\nimport Button from '../../../components/button';\nimport '../login/style.css';\nimport { useHistory } from 'react-router-dom';\n\nfunction Login() {\n  let history = useHistory(); //UseState é uma forma de definir e atualizar o estado “interno ” de um componente\n\n  const [email, setEmail] = useState('');\n  const [senha, setSenha] = useState(''); //criando função de acesso aos dados da API para realização do login\n\n  const login = () => {\n    const login = {\n      email: email,\n      senha: senha\n    }; //utilizando fetch para acesso à API, determinando o método, body e headers\n\n    fetch('http://localhost:5000/api/conta/login', {\n      method: 'POST',\n      body: JSON.stringify(login),\n      headers: {\n        'content-type': 'application/json'\n      }\n    }) //promises\n    .then(response => response.json()).then(dados => {\n      //Verificação se \n      if (dados.token != undefined || dados.token != null || dados.token != '') {\n        if (!dados.ok) {\n          alert(\"usuari\");\n        }\n\n        localStorage.setItem('token-filmes', dados.token);\n        history.push('/');\n      } else {\n        alert('Senha ou Email incorretos! Tente novamente! :(');\n      }\n    }).catch(err => console.error(err));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    description: \"Faça o login e acesse a Coletânea\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"InputMain\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: event => {\n      event.preventDefault();\n      login();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"email\",\n    type: \"text\",\n    label: \"Email\",\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    name: \"senha\",\n    type: \"password\",\n    label: \"Senha\",\n    onChange: e => setSenha(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bott\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    value: \"Enviar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/senai/Desktop/React-JS/filmes/src/pages/home/login/index.tsx"],"names":["React","useState","Header","Footer","Input","Button","useHistory","Login","history","email","setEmail","senha","setSenha","login","fetch","method","body","JSON","stringify","headers","then","response","json","dados","token","undefined","ok","alert","localStorage","setItem","push","catch","err","console","error","event","preventDefault","e","target","value"],"mappings":"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","sourcesContent":["import React,{ useState } from 'react';\r\nimport Header from '../../../components/header/index';\r\nimport Footer from '../../../components/footer/index';\r\nimport Input from '../../../components/input';\r\nimport Button from '../../../components/button';\r\nimport '../login/style.css';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n\r\nfunction Login() {\r\n\r\n    let history = useHistory();\r\n \r\n    //UseState é uma forma de definir e atualizar o estado “interno ” de um componente\r\n      const [email, setEmail] = useState('');\r\n      const [senha, setSenha] = useState('')\r\n     \r\n    //criando função de acesso aos dados da API para realização do login\r\n      const login = () => {\r\n        const login = {\r\n          email: email,\r\n          senha: senha\r\n        }\r\n    //utilizando fetch para acesso à API, determinando o método, body e headers\r\n    fetch('http://localhost:5000/api/conta/login', {\r\n        method: 'POST',\r\n        body: JSON.stringify(login),\r\n        headers: {\r\n          'content-type': 'application/json'\r\n        }\r\n      })\r\n        //promises\r\n        .then(response=>response.json())\r\n        .then(dados => {\r\n        //Verificação se \r\n          if(dados.token != undefined || dados.token != null || dados.token != '')\r\n          {\r\n            if(!dados.ok){\r\n              alert(\"usuari\")\r\n            }\r\n            localStorage.setItem('token-filmes',dados.token)\r\n    \r\n            history.push('/');\r\n          }else{\r\n            alert('Senha ou Email incorretos! Tente novamente! :(')\r\n          }\r\n        })\r\n        .catch(err=>console.error(err))\r\n      }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Header description={\"Faça o login e acesse a Coletânea\"} />\r\n            <h1>Login</h1>\r\n            <div className=\"InputMain\">\r\n                <form onSubmit={event => { event.preventDefault(); login(); }}>\r\n                    <Input name=\"email\" type=\"text\" label=\"Email\" onChange={e => setEmail(e.target.value)} />\r\n                    <br />\r\n                    <Input name=\"senha\" type=\"password\" label=\"Senha\" onChange={e => setSenha(e.target.value)} />\r\n                    <br />\r\n                    <div className=\"bott\">\r\n                        <Button value=\"Enviar\"></Button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            <Footer />\r\n        </div>\r\n    );\r\n}\r\nexport default Login;\r\n\r\n"]},"metadata":{},"sourceType":"module"}